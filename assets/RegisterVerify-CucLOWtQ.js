import{_ as C,a as q}from"./fb-R3zjQfrO.js";import{_ as z,u as M,A as g,r as E,z as F,o as B,b as r,c as l,x as T,g as N,h as c,e,f as b,n as v,d as y,t as U,q as h,s as A,J as D,K as P,m as j}from"./index-yneSRaZ5.js";const a=i=>(D("data-v-d2fb9524"),i=i(),P(),i),J=a(()=>e("h1",{class:"h2 mb-3"}," 註冊成功 ",-1)),K=a(()=>e("p",{class:"mb-4 text-dark"}," 請至方才註冊的 Email 信箱收取驗證信， 可點擊驗證連結登入，或在下方輸入驗證碼 ",-1)),L={class:"mb-4"},G=a(()=>e("label",{for:"validation",class:"form-label"},"驗證碼",-1)),H={class:"input-group"},O={key:0,style:{color:"inherit"}},Q={key:1,style:{color:"inherit"}},W=["disabled"],X=a(()=>e("p",{class:"text-center text-dark"},[e("small",null,"還沒有收到驗證碼嗎？聯絡小幫手")],-1)),Y=a(()=>e("div",{class:"d-flex justify-content-center"},[e("a",{href:"https://line.me/R/ti/p/%40guv7422g",target:"_blank",title:"LINE 客服",class:"rounded-circle bg-light text-dark me-4"},[e("img",{class:"img-fluid",width:"30",src:C,alt:"line-logo"})]),e("a",{href:"https://m.me/hexschool",target:"_blank",title:"Facebook 客服",class:"rounded-circle bg-light text-dark"},[e("img",{class:"img-fluid",width:"30",src:q,alt:"fb-logo"})])],-1)),Z={__name:"RegisterVerify",setup(i){const{apiPutRegisterVerify:k,apiPostRegisterVerify:w}=j,d=M(),u=g({}),s=g({verify_code:""}),o=E(0),_=F(()=>o.value===0),m=f=>{o.value=f;const t=window.setInterval(()=>{o.value-=1,o.value===0&&window.clearInterval(t)},1e3)};B(()=>{u.account=decodeURIComponent(localStorage.getItem("d_RTfznkkwslIopaqd_account")),s.account=decodeURIComponent(localStorage.getItem("d_RTfznkkwslIopaqd_account")),localStorage.getItem("d_RTfznkkwslIopaqd_account")?m(60):d.push("/register")});const I=h(async()=>{await k(s),localStorage.removeItem("d_RTfznkkwslIopaqd_account"),sessionStorage.setItem("registerStatus","true"),d.push("/")}),p=h(async()=>{await w(u),A.toastMessage("success","","成功發送驗證信件"),m(60)});return(f,t)=>{const V=r("VField"),x=r("ErrorMessage"),S=r("VForm");return l(),T(S,{ref:"form",onSubmit:c(I)},{default:N(({errors:R})=>[J,K,e("div",L,[G,e("div",H,[b(V,{id:"validation",modelValue:s.verify_code,"onUpdate:modelValue":t[0]||(t[0]=n=>s.verify_code=n),modelModifiers:{trim:!0},name:"verify_code",type:"text",label:"驗證碼",class:v(["form-control",{"is-invalid":R.verify_code}]),rules:"required|digits:6","aria-label":"驗證碼","aria-describedby":"button-addon2"},null,8,["modelValue","class"]),e("button",{id:"button-addon2",class:v(["btn btn-outline-primary fw-normal",{disabled:!_.value}]),type:"button",onClick:t[1]||(t[1]=(...n)=>c(p)&&c(p)(...n))},[_.value?(l(),y("span",O," 重新發送 ")):(l(),y("span",Q,U(o.value)+" 秒後重新發送 ",1))],2),b(x,{name:"verify_code",class:"invalid-feedback"})])]),e("button",{type:"submit",class:"btn btn-primary w-100 mb-3",disabled:!s.verify_code}," 驗證帳號 ",8,W),X,Y]),_:1},8,["onSubmit"])}}},se=z(Z,[["__scopeId","data-v-d2fb9524"]]);export{se as default};
