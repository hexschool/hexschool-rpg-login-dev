import{u as M,a as C,r as u,A as S,o as V,b,c as F,d as P,f as d,g,h as m,F as q,j as k,e as t,l as o,k as h,q as v,s as z,m as B}from"./index-yneSRaZ5.js";import{_ as G,a as I}from"./PolicyModal-EH0aXrvl.js";import"./Modal-imUB7Y_K.js";const L={class:"mb-4 d-flex align-items-baseline"},N=t("h1",{class:"h2 me-auto"},"註冊",-1),$={class:"text-dark"},j=t("img",{class:"img-fluid me-1",width:"30",src:I,alt:"teachable-logo"},null,-1),A={class:"text-dark fw-normal"},K={__name:"Register",setup(U){const{apiPostRegister:w,apiGetLoginTeachable:y}=B,R=M(),T=C(),i=u(""),l=S({account:"",nickname:"",password:""}),x=v(async()=>{await w(l),localStorage.setItem("d_RTfznkkwslIopaqd_account",encodeURIComponent(l.account)),z.toastMessage("success","","註冊成功"),R.push("/register/verify")}),_=u(""),r=u(null),p=s=>{_.value=s,s==="user"?r.value.modalTitle="使用者條款":r.value.modalTitle="隱私權政策",r.value.showModal()},f=v(async()=>{const{redirectType:s,route:e}=T.query,a={redirectType:"user"};s==="teachable"&&(a.redirectType=s,a.route=e);const c=new URLSearchParams(a).toString(),n=await y(c);window.location.href=n.redirect_url});return V(()=>{i.value=k("RPG_RTfznkkws_login_bind_type"),i.value&&i.value==="bind_teachable"&&(l.account=k("RPG_RTfznkkws_login_bind_mail"))}),(s,e)=>{const a=b("router-link"),c=b("VForm");return F(),P(q,null,[d(c,{ref:"form",onSubmit:m(x)},{default:g(()=>[t("div",L,[N,t("p",$,[o(" 已經有帳號了嗎？ "),d(a,{to:"/",class:"fw-bold"},{default:g(()=>[o(" 登入 ")]),_:1})])]),t("button",{type:"button",class:"btn btn-outline-primary w-100 d-flex align-items-center justify-content-center mb-5",onClick:e[0]||(e[0]=(...n)=>m(f)&&m(f)(...n))},[j,o(" 使用 Teachable 帳號註冊 ")]),t("h6",A,[o(" 若點擊「註冊」按鈕，即表示你已經閱讀並接受我們的"),t("a",{href:"#",class:"text-dark",onClick:e[1]||(e[1]=h(n=>p("user"),["prevent"]))},"使用者條款"),o("和"),t("a",{href:"#",class:"text-dark",onClick:e[2]||(e[2]=h(n=>p("private"),["prevent"]))},"隱私權政策"),o("。 ")])]),_:1},8,["onSubmit"]),d(G,{ref_key:"policyModalRef",ref:r,status:_.value},null,8,["status"])],64)}}};export{K as default};
